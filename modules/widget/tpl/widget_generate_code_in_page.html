<!--%import("filter/generate_code_in_page.xml")-->
<!--%import("js/widget_admin.js")-->
<!--%import("css/widget.css")-->

<form action="./" method="get" onsubmit="return procFilter(this, generate_code_in_page);" id="fo_widget">
<input type="hidden" name="selected_widget" value="{$selected_widget}" />
<input type="hidden" name="module_srl" value="{$module_srl}" />

<div class="widget_detail_info_window">

    <div class="widget_title">{$widget_info->title} ver {$widget_info->version}</div>

    <div style="border:1px solid #EEEEEE;margin-bottom:5px;">

        <div class="widget_description">{$lang->about_widget_code_in_page}</div>

        <div class="widget_header">{$lang->description}</div>
        <div class="widget_body">{nl2br($widget_info->author->description)}</div>

        <div class="widget_header">{$lang->skin}</div>
        <div class="widget_body">
            <select name="skin" onchange="doDisplaySkinColorset(this,'');return false;" id="widget_skin">
                <option value="">&nbsp;</option>
            <!--@foreach($skin_list as $key => $val)-->
                <option value="{$key}">{$val->title} ({$key})</option>
            <!--@end-->
            </select>
        </div>

        <div id="colorset_area" style="display:none">
            <div class="widget_header">{$lang->colorset}</div>
            <div class="widget_body">
                <select name="colorset" id="widget_colorset">
                </select>
            </div>
        </div>

        <!--@foreach($widget_info->extra_var as $id => $var)-->
        <div class="widget_header">{$var->name}</div>

        <div class="widget_body">
            <!--@if($var->type == "text")-->
            <input type="text" name="{$id}" value="" />

            <!--@elseif($var->type == "textarea")-->
            <textarea name="{$id}"></textarea>

            <!--@elseif($var->type == "select")-->
                <select name="{$id}">
                <!--@foreach($var->options as $key => $val)-->
                <option value="{$key}">{$val}</option>
                <!--@end-->
                </select>

            <!--@elseif($var->type == "mid_list")-->
                <div style="height:150px;overflow:scroll">
                <!--@foreach($mid_list as $key => $val)-->
                    <div class="widget_mid_list">
                        <input type="checkbox" value="{$key}" name="{$id}" id="chk_mid_list_{$key}" /> 
                        <label for="chk_mid_list_{$key}">{$key} ({$val->browser_title})</label>
                    </div>
                <!--@end-->
                </div>
            <!--@end-->
        </div>
        <div class="widget_var_description">{$var->description}</div>
        <!--@end-->

    </div>

    <div style="border:1px solid #EEEEEE;margin-bottom:5px; ">
        <div class="widget_header">{$lang->widget_fix_width}</div>
        <div class="widget_body">
            <input type="checkbox" value="Y" name="widget_fix_width" />
            {$lang->about_widget_fix_width}
        </div>

        <div class="widget_header">{$lang->widget_width}</div>
        <div class="widget_body">
            <input type="text" value="400" name="widget_width" size="3" />px
            {$lang->about_widget_width}
        </div>

        <div class="widget_header">{$lang->widget_position}</div>
        <div class="widget_body">
            <select name="widget_position">
                <option value="">{$lang->widget_position_none}</option>
                <option value="left">{$lang->widget_position_left}</option>
                <option value="right">{$lang->widget_position_right}</option>
            </select>
            {$lang->about_widget_position}
        </div>

        <div class="widget_header">{$lang->widget_margin}</div>
        <div class="widget_body">
            {$lang->widget_margin_top} <input type="text" name="widget_margin_top" value="0" size="2" />
            {$lang->widget_margin_right} <input type="text" name="widget_margin_right" value="0" size="2" />
            {$lang->widget_margin_bottom} <input type="text" name="widget_margin_bottom" value="0" size="2" />
            {$lang->widget_margin_left} <input type="text" name="widget_margin_left" value="0" size="2" />
            <br />
            {$lang->about_widget_margin}
        </div>
    </div>

    <div class="widget_button_area">
        <input type="submit" value="{$lang->cmd_insert}" class="widget_button" />
        <input type="button" onclick="self.close()" value="{$lang->cmd_close}" class="widget_button" />
    </div>
</div>

</form>

<script type="text/javascript">
    xAddEventListener(window, "load", doFillWidgetVars);
</script>
