<!--%import("filter/generate_code_in_page.xml")-->
<!--%import("js/widget_admin.js")-->
<!--%import("css/widget.css")-->
<!--%import("../../admin/tpl/css/admin.css")-->

<form action="./" method="get" onsubmit="return procFilter(this, generate_code_in_page);" id="fo_widget">
<input type="hidden" name="selected_widget" value="{$selected_widget}" />
<input type="hidden" name="module_srl" value="{$module_srl}" />
<input type="hidden" name="widget_sequence" value="" />
<input type="hidden" name="style" value="float:left;width:100%;margin:none;padding:none;" />
<input type="hidden" name="widget_padding_left" value="" />
<input type="hidden" name="widget_padding_right" value="" />
<input type="hidden" name="widget_padding_top" value="" />
<input type="hidden" name="widget_padding_bottom" value="" />

    <div id="popHeadder">
        <h3>{$lang->cmd_generate_code}</h3>
    </div>

    <div id="popBody">
        <table cellspacing="0" class="adminTable">
        <caption>{nl2br($lang->about_widget_code_in_page)}</caption>
        <tr>
            <th scope="row"><div>{$lang->widget}</div></th>
            <td>
                {$widget_info->title} ver {$widget_info->version}
                <!--@if($widget_info->author->description)-->
                <div class="widget_description">{nl2br(trim($widget_info->author->description))}</div>
                <!--@end-->
            </td>
        </tr>
        <!--@if(count($skin_list))-->
        <tr>
            <th scope="row"><div>{$lang->skin}</div></th>
            <td>
                <select name="skin" onchange="doDisplaySkinColorset(this);return false;" id="widget_skin">
                    <option value="">&nbsp;</option>
                <!--@foreach($skin_list as $key => $val)-->
                    <option value="{$key}">{$val->title} ({$key})</option>
                <!--@end-->
                </select>

                <div id="colorset_area" style="display:none">
                    <div class="header">{$lang->colorset}</div>
                    <div class="footer">
                        <select name="colorset" id="widget_colorset">
                        </select>
                    </div>
                </div>
            </td>
        </tr>
        <!--@end-->
        <tr>
            <th scope="row"><div>{$lang->widget_cache}</div></th>
            <td>
                <input type="text" name="widget_cache" value="0" class="inputTypeText" size="2" />{$lang->unit_min}
                <p>{$lang->about_widget_cache}</p>
            </td>
        </tr>
        <!--@foreach($widget_info->extra_var as $id => $var)-->

        <!--@if($var->group && ((!$group) || $group != $var->group))-->
        {@$group = $var->group}
        </table>
        <table cellspacing="0" class="adminTable">
        <caption>{$group}</caption>
        <!--@end-->

        <tr class="row{$cycle_idx}">
            <th scope="row"><div>
                {$var->name}
                <!--@if($var->type == "mid_list")-->
                    <input type="checkbox" onclick="checkboxSelectAll(this.form, '{$id}'); return false;" />
                <!--@end-->
            </div></th>
            <td>
                <!--@if($var->type == "text")-->
                <input type="text" name="{$id}" value="" class="inputTypeText" />

                <!--@elseif($var->type == "textarea")-->
                <textarea name="{$id}" class="inputTypeTextArea w100"></textarea>

                <!--@elseif($var->type == "select")-->
                <select name="{$id}">
                    <!--@foreach($var->options as $key => $val)-->
                    <option value="{$key}">{$val}</option>
                    <!--@end-->
                </select>

                <!--@elseif($var->type == "mid_list")-->

                    <!--@foreach($mid_list as $module_category_srl => $modules)-->
                        <!--@if($modules->title)-->
                            <div class="widget_title">{$modules->title}</div>
                        <!--@else-->
                            <div class="widget_title">{$lang->none_category}</div>
                        <!--@end-->

                        <!--@foreach($modules->list as $key => $val)-->
                            <div class="widget_mid_list">
                                <input type="checkbox" value="{$key}" name="{$id}" id="chk_mid_list_{$key}" /> 
                                <label for="chk_mid_list_{$key}">{$key} ({$val->browser_title})</label>
                            </div>
                        <!--@end-->
                    <!--@end-->

                <!--@elseif($var->type == "mid")-->

                    <select name="{$id}">
                    <!--@foreach($mid_list as $module_category_srl => $modules)-->
                        <!--@if($modules->title)-->
                            <option disabled="disabled">{$modules->title}</option>
                        <!--@else-->
                            <option disabled="disabled">{$lang->none_category}</option>
                        <!--@end-->

                        <!--@foreach($modules->list as $key => $val)-->
                            <option value="{$key}">&nbsp; {$key} ({$val->browser_title})</option>
                        <!--@end-->
                    <!--@end-->
                    </select>

                <!--@end-->
                <p class="clear">{nl2br($var->description)}</p>
            </td>
        </tr>
        <!--@end-->
        </table>

    </div>
    <div id="popFooter" class="tCenter gap1">
        <span class="button"><input type="submit" value="{$lang->cmd_generate_code}"  /></span>
        <a href="#" onclick="window.close(); return false;" class="button"><span>{$lang->cmd_close}</span></a>
    </div>
</form>

<script type="text/javascript">
    xAddEventListener(window, "load", doFillWidgetVars);
</script>
