<config autoescape="on" />

<load target="./js/config.js" />
<load target="../../session/tpl/js/session.js" />

<div class="x_page-header">
	<h1>{$lang->menu_gnb_sub['adminConfigurationFtp']}</h1>
</div>
<div cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == 'modules/admin/tpl/config_ftp/1'" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
	<p>{$XE_VALIDATOR_MESSAGE}</p>
</div>
<form action="./" id="ftp_form" method="post" class="x_form-horizontal" ruleset="installFtpInfo">
	<input type="hidden" name="module" value="admin" />
	<input type="hidden" name="act" value="procAdminUpdateFTPInfo" />
	<input type="hidden" name="success_return_url" value="{$success_return_url}" />
	<input type="hidden" name="xe_validator_id" value="modules/admin/tpl/config_ftp/1" />
	<section class="section">
		<div class="x_control-group">
			<label class="x_control-label" for="ftp_host">{$lang->ftp_host}</label>
			<div class="x_controls">
				<input type="text" name="ftp_host" id="ftp_host" value="{$ftp_info['host'] ?: 'localhost'}" />
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="ftp_port">{$lang->ftp_port}</label>
			<div class="x_controls">
				<input type="number" name="ftp_port" id="ftp_port" value="{$ftp_info['port'] ?: '21'}" />
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="ftp_user">{$lang->user_id}</label>
			<div class="x_controls">
				<input type="text" name="ftp_user" id="ftp_user" value="{$ftp_info['user']}" />
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="ftp_pass">{$lang->password}</label>
			<div class="x_controls">
				<input type="password" name="ftp_pass" id="ftp_pass" value="" />
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="ftp_path">{$lang->msg_ftp_installed_ftp_realpath}</label>
			<div class="x_controls">
				<input type="text" name="ftp_path" id="ftp_path" style="min-width:90%" value="{$ftp_info['path'] ?: _XE_PATH_}" />
				<br />
				<p class="x_help-block">{$lang->msg_ftp_autodetected_ftp_realpath} : {_XE_PATH_}</p>
			</div>
		</div>
		<div class="x_control-group">
			<div class="x_control-label">{$lang->use_ftp_passive_mode}</div>
			<div class="x_controls">
				<label class="x_inline" for="ftp_pasv_y">
					<input type="radio" name="ftp_pasv" id="ftp_pasv_y" value="Y" checked="checked"|cond="$ftp_info['pasv']" />
					{$lang->cmd_yes}
				</label>
				<label class="x_inline" for="ftp_pasv_n">
					<input type="radio" name="ftp_pasv" id="ftp_pasv_n" value="N" checked="checked"|cond="!$ftp_info['pasv']" />
					{$lang->cmd_no}
				</label>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label">{$lang->use_sftp_support}</label>
			<div class="x_controls">
				<label class="x_inline" for="ftp_sftp_y"><input type="radio" name="ftp_sftp" id="ftp_sftp_y" value="Y" checked="checked"|cond="$ftp_info['sftp']" disabled|cond="!$sftp_support" /> {$lang->cmd_yes}</label>
				<label class="x_inline" for="ftp_sftp_n"><input type="radio" name="ftp_sftp" id="ftp_sftp_n" value="N" checked="checked"|cond="!$ftp_info['sftp']" /> {$lang->cmd_no}</label>
				<p class="x_help-black" cond="!$sftp_support">{$lang->disable_sftp_support}</p>
			</div>
		</div>
	</section>
	<div class="btnArea" style="margin-top:0">
		<input type="submit" value="{$lang->cmd_save}" class="x_btn x_btn-primary x_pull-right" />
	</div>
</form>
