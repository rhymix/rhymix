<!--@if(in_array($val->type, array('select', 'checkbox')))-->
    {@ $val->default = explode(',', $val->default) }
<!--@end-->

{@ $val->column_name = "extra_vars".$key}

{@ $val->value = $oDocument->getExtraValue($key)}

<!--@if($val->type == 'text')-->
    <input type="text" name="{$val->column_name}" value="{htmlspecialchars($val->value)}" class="inputText" />

<!--@elseif($val->type == 'homepage')-->
    <input type="text" name="{$val->column_name}" value="{htmlspecialchars($val->value)}" class="inputText" />

<!--@elseif($val->type == 'email_address')-->
    <input type="text" name="{$val->column_name}" value="{htmlspecialchars($val->value)}" class="inputText" />

<!--@elseif($val->type == 'tel')-->
    <input type="text" name="{$val->column_name}" value="{htmlspecialchars($val->value[0])}" size="4" class="inputNum" />
    <input type="text" name="{$val->column_name}" value="{htmlspecialchars($val->value[1])}" size="4" class="inputNum" />
    <input type="text" name="{$val->column_name}" value="{htmlspecialchars($val->value[2])}" size="4" class="inputNum" />

<!--// textarea -->
<!--@elseif($val->type == 'textarea')-->
    <textarea name="{$val->column_name}" rows="5" cols="20">{htmlspecialchars($val->value)}</textarea>

<!--@elseif($val->type == 'checkbox')-->
    <!--@if($val->default)-->
        <ul>
        <!--@foreach($val->default as $v)-->
            <li><input type="checkbox" name="{$val->column_name}" value="{$v}" <!--@if($v==$val->value||is_array($val->value)&&in_array($v, $val->value))-->checked="checked"<!--@end--> class="inputCheck" /> {$v}</li>
        <!--@end-->
        </ul>
    <!--@end-->

<!--@elseif($val->type == 'select')-->
    <select name="{$val->column_name}">
    <!--@if($val->default)-->
        <!--@foreach($val->default as $v)-->
            <option value="{$v}" <!--@if($v == $val->value)-->selected="selected"<!--@end-->>{$v}</option>
        <!--@end-->
    <!--@end-->
    </select>

<!--@elseif($val->type == 'date')-->
    <!--// calendar -->
    <!--%import("../../../../common/js/ui.datepicker.js",optimized=false)-->
    <!--%import("../../../../common/css/ui.datepicker.css",optimized=false)-->
    <input type="hidden" name="{$val->column_name}" id="date_{$val->column_name}" value="{$val->value}" />
    <input type="text" class="inputDate" value="{zdate($val->value,'Y-m-d')}" readonly="readonly" />

<script type="text/javascript">
(function($){
    $(function(){
        var option = { gotoCurrent: false,yearRange:'-100:+10', onSelect:function(){

            $(this).prev('input[type="hidden"]').val(this.value.replace(/-/g,""))}
        };
        $.extend(option,$.datepicker.regional['{$lang_type}']);
        $(".inputDate").datepicker(option);
    });
})(jQuery);
</script>
<!--@end-->

<!--@if($val->desc)-->
<p class="info">{$val->desc}</p>
<!--@end-->
